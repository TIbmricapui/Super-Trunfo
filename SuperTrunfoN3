#include <stdio.h>

// Fun√ß√£o auxiliar para calcular a densidade
float calcular_densidade(unsigned long int pop, float area) {
    if (area > 0) {
        return (float)pop / area;
    } else {
        return 0.0f;
    }
}

// Estrutura para mapear o n√∫mero da op√ß√£o ao nome do atributo
const char* obter_nome_atributo(int opcao) {
    switch (opcao) {
        case 1: return "Popula√ß√£o";
        case 2: return "√Årea";
        case 3: return "PIB";
        case 4: return "Pontos Tur√≠sticos";
        case 5: return "Densidade Demogr√°fica";
        default: return "INV√ÅLIDO";
    }
}

// Fun√ß√£o para exibir o menu din√¢mico
void exibir_menu(int atributo_excluido) {
    printf("Escolha um atributo para compara√ß√£o (Regra Geral: MAIOR VENCE, exceto Densidade):\n");
    if (atributo_excluido != 1) printf(" 1 - Popula√ß√£o\n");
    if (atributo_excluido != 2) printf(" 2 - √Årea\n");
    if (atributo_excluido != 3) printf(" 3 - PIB\n");
    if (atributo_excluido != 4) printf(" 4 - Pontos Tur√≠sticos\n");
    if (atributo_excluido != 5) printf(" 5 - Densidade Demogr√°fica\n");
}

int main() {
    
    // ===============================================
    // 1. DADOS DAS CARTAS (S√ÉO PAULO E RIO DE JANEIRO)
    // ===============================================
    
    // CARTA 01 (S√ÉO PAULO)
    char cidade[50] = "S√£o Paulo";
    unsigned long int populacao = 12325000;
    float area = 1521.11f; 
    float pib = 699.28f; 
    int ponto_turistico = 50; 
    float densidade = calcular_densidade(populacao, area);
    
    // CARTA 02 (RIO DE JANEIRO)
    char cidade2[50] = "Rio de Janeiro";
    unsigned long int populacao2 = 6748000; 
    float area2 = 1200.25f; 
    float pib2 = 300.50f;
    int ponto_turistico2 = 30;
    float densidade2 = calcular_densidade(populacao2, area2);


    // ===============================================
    // 2. ESCOLHA E ATRIBUI√á√ÉO DOS ATRIBUTOS
    // ===============================================
    
    int escolha_atributo1, escolha_atributo2;
    double val1_c1 = 0.0, val1_c2 = 0.0;
    double val2_c1 = 0.0, val2_c2 = 0.0;

    // --- ESCOLHA DO 1¬∫ ATRIBUTO ---
    printf("\n\n============================================\n");
    printf(" ‚öîÔ∏è  SUPER TRUNFO: ESCOLHA DO 1¬∫ ATRIBUTO\n");
    printf("============================================\n");
    
    exibir_menu(0);
    printf(" Digite o n√∫mero da sua 1¬™ escolha: ");
    
    if (scanf("%d", &escolha_atributo1) != 1 || escolha_atributo1 < 1 || escolha_atributo1 > 5) {
        printf("\nüö´ Op√ß√£o inv√°lida! Encerrando.\n");
        return 1;
    }

    switch (escolha_atributo1) {
        case 1: val1_c1 = (double)populacao; val1_c2 = (double)populacao2; break;
        case 2: val1_c1 = (double)area; val1_c2 = (double)area2; break;
        case 3: val1_c1 = (double)pib; val1_c2 = (double)pib2; break;
        case 4: val1_c1 = (double)ponto_turistico; val1_c2 = (double)ponto_turistico2; break;
        case 5: val1_c1 = (double)densidade; val1_c2 = (double)densidade2; break;
    }

    // --- ESCOLHA DO 2¬∫ ATRIBUTO (Din√¢mico) ---
    printf("\n\n============================================\n");
    printf(" ‚öîÔ∏è  SUPER TRUNFO: ESCOLHA DO 2¬∫ ATRIBUTO\n");
    printf("    (O atributo '%s' foi removido.)\n", obter_nome_atributo(escolha_atributo1));
    printf("============================================\n");

    exibir_menu(escolha_atributo1);
    printf(" Digite o n√∫mero da sua 2¬™ escolha: ");

    if (scanf("%d", &escolha_atributo2) != 1 || escolha_atributo2 < 1 || escolha_atributo2 > 5) {
        printf("\nüö´ Op√ß√£o inv√°lida! Encerrando.\n");
        return 1;
    }

    if (escolha_atributo2 == escolha_atributo1) {
        printf("\nüö´ Erro! Voc√™ n√£o pode escolher o mesmo atributo duas vezes. Encerrando.\n");
        return 1;
    }

    switch (escolha_atributo2) {
        case 1: val2_c1 = (double)populacao; val2_c2 = (double)populacao2; break;
        case 2: val2_c1 = (double)area; val2_c2 = (double)area2; break;
        case 3: val2_c1 = (double)pib; val2_c2 = (double)pib2; break;
        case 4: val2_c1 = (double)ponto_turistico; val2_c2 = (double)ponto_turistico2; break;
        case 5: val2_c1 = (double)densidade; val2_c2 = (double)densidade2; break;
    }

    // ===============================================
    // 3. L√ìGICA DE VIT√ìRIA DUPLA (IF-ELSE PURO)
    // ===============================================

    int vitorias_c1 = 0;
    int vitorias_c2 = 0;
    
    printf("\n\n============================================\n");
    printf("         FIM DO JOGO: RESULTADO FINAL\n");
    printf("      (Vence quem ganhar AMBOS atributos)\n");
    printf("============================================\n");
    
    printf("ATRIBUTO 1: %s\n", obter_nome_atributo(escolha_atributo1));
    printf("ATRIBUTO 2: %s\n", obter_nome_atributo(escolha_atributo2));
    printf("--------------------------------------------\n");

    // ----------------------------------------------------------------
    // --- COMPARA√á√ÉO DO ATRIBUTO 1 ---
    // ----------------------------------------------------------------
    
    int c1_vence_attr1 = 0;
    int c2_vence_attr1 = 0;
    
    // Checa a vit√≥ria da CARTA 1 no ATRIBUTO 1
    if (escolha_atributo1 == 5) { // Densidade (Menor Vence)
        if (val1_c1 < val1_c2) {
            c1_vence_attr1 = 1;
        }
    } else { // Outros atributos (Maior Vence)
        if (val1_c1 > val1_c2) {
            c1_vence_attr1 = 1;
        }
    }

    // Checa a vit√≥ria da CARTA 2 no ATRIBUTO 1
    if (escolha_atributo1 == 5) { // Densidade (Menor Vence)
        if (val1_c2 < val1_c1) {
            c2_vence_attr1 = 1;
        }
    } else { // Outros atributos (Maior Vence)
        if (val1_c2 > val1_c1) {
            c2_vence_attr1 = 1;
        }
    }

    vitorias_c1 += c1_vence_attr1;
    vitorias_c2 += c2_vence_attr1;
    
    // Exibi√ß√£o do resultado individual do Atributo 1
    printf("1. %s: ", obter_nome_atributo(escolha_atributo1));
    if (c1_vence_attr1 && !c2_vence_attr1) {
        printf("%s\n", cidade);
    } else if (c2_vence_attr1 && !c1_vence_attr1) {
        printf("%s\n", cidade2);
    } else {
        printf("Empate\n");
    }


    // ----------------------------------------------------------------
    // --- COMPARA√á√ÉO DO ATRIBUTO 2 ---
    // ----------------------------------------------------------------
    
    int c1_vence_attr2 = 0;
    int c2_vence_attr2 = 0;
    
    // Checa a vit√≥ria da CARTA 1 no ATRIBUTO 2
    if (escolha_atributo2 == 5) { // Densidade (Menor Vence)
        if (val2_c1 < val2_c2) {
            c1_vence_attr2 = 1;
        }
    } else { // Outros atributos (Maior Vence)
        if (val2_c1 > val2_c2) {
            c1_vence_attr2 = 1;
        }
    }

    // Checa a vit√≥ria da CARTA 2 no ATRIBUTO 2
    if (escolha_atributo2 == 5) { // Densidade (Menor Vence)
        if (val2_c2 < val2_c1) {
            c2_vence_attr2 = 1;
        }
    } else { // Outros atributos (Maior Vence)
        if (val2_c2 > val2_c1) {
            c2_vence_attr2 = 1;
        }
    }

    vitorias_c1 += c1_vence_attr2;
    vitorias_c2 += c2_vence_attr2;

    // Exibi√ß√£o do resultado individual do Atributo 2
    printf("2. %s: ", obter_nome_atributo(escolha_atributo2));
    if (c1_vence_attr2 && !c2_vence_attr2) {
        printf("%s\n", cidade);
    } else if (c2_vence_attr2 && !c1_vence_attr2) {
        printf("%s\n", cidade2);
    } else {
        printf("Empate\n");
    }

    printf("--------------------------------------------\n");
    printf("Contagem de Vit√≥rias: %s: %d | %s: %d\n", cidade, vitorias_c1, cidade2, vitorias_c2);
    printf("--------------------------------------------\n");


    // ===============================================
    // 4. RESULTADO FINAL (VIT√ìRIA DUPLA)
    // ===============================================

    // A CARTA S√ì VENCE SE TIVER VENCIDO OS DOIS ATRIBUTOS (vitorias == 2)
    if (vitorias_c1 == 2 && vitorias_c2 == 0) {
        printf("üéâ VENCEDOR: CARTA 1 - %s! (Ganhou ambos atributos!)\n", cidade);
    } else if (vitorias_c2 == 2 && vitorias_c1 == 0) {
        printf("üéâ VENCEDOR: CARTA 2 - %s! (Ganhou ambos atributos!)\n", cidade2);
    } else {
        // Empate ocorre se o placar for 1x1, 1x0, 0x1 ou 0x0
        printf("ü§ù RESULTADO: EMPATE! Nenhuma carta ganhou os dois atributos.\n");
    }

    printf("============================================\n");
    
    return 0;
}
